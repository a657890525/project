<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="1495"/>

<div>
<span><div>复习</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>ajax  ：   请求过程      </div><div>代码实现过程   </div><div>同步和异步</div><div>请求方式  get  post  </div><div>ajax如何请求接口  ？？    路径  返回值  参数</div></div><div><br/></div><div>1、同源策略</div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">同源 ： 同一个来源       ajax在请求服务器的数据时，保证  协议、域名、端口号  完全一致的情况下  才可以请求数据</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;"><a href="http://www.baidu.com:8080/">http://www.baidu.com:</a></span></span></span><a href="http://www.baidu.com:8080/" style="font-size: 16px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">8080</a></div><div><span style="font-size: 16px;"><a href="https://www.baidu.com:8080/">https://www.baidu.com:8080</a></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">同源策略   ：  浏览器的一个行业规范     保证用户使用浏览器访问数据时   保障数据安全性</span></div><div><span style="font-size: 16px;">ajax  受 同源策略的影响 ， 不能实现跨域请求数据的         </span></div><div><span style="font-size: 16px;">跨域  ：  在一个域下 访问 另一个域的内容</span></div></div><div><br/></div><div>2、jsonp的跨域请求数据</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">jsonp ：   json  with  padding</span></div><div><span style="font-size: 16px;">跨域原理 ： </span></div><div><span style="font-size: 16px;">     通过 动态创建script标签 ， 设置script标签的src属性值 为 某个接口路径    接口路径上带一个参数，参数值是一个<span style="color: rgb(255, 0, 0);">回调函数</span>的函数名，通过调用这个回调函数  就可以访问该接口服务器下的数据    将 创建的 script 标签 添加到 body中</span></div><div><span style="font-size: 16px;">     <br/></span></div></div><div>3、cors   跨域访问</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>在服务器下  设置 </div><div>     header(&quot;Access-Control-Allow-Origin:*&quot;);   表示 任何域下都可以访问到 该服务器下的数据</div></div><div><br/></div><div>练习  豆瓣网 接口的跨域请求</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>接口:https://api.douban.com/v2/book/search?q=text&amp;callback=fn&amp;start=0&amp;count=10</div></div><div>4、ajaxPost</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><br/></div></div><div><br/></div><div>5、promise </div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">promise  承诺  </span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">promise 对象的三个状态 ：</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">pending   进行中</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">resolved   已解决</span></div><div style="margin-left:40px;"><span style="font-size: 16px;">rejected   失败</span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><br/></span></div><div style="text-align: justify"><span style="font-size: 16px;">var promise = new Promise(function(success,failed){ </span></div><div style="text-align: justify"><span style="font-size: 16px;">     参数的作用通知promise对象执行结果</span></div><div style="text-align: justify"><span style="font-size: 16px;">     如果执行success  ，表示成功，接下来就可以执行 then方法    then方法可以接受两个参数  第一个函数执行成功 第二个函数执行失败</span></div><div style="text-align: justify"><span style="font-size: 16px;">     如果执行failed ， 表示 失败 ，接下来就可以执行 catch 方法</span></div><div style="text-align: justify"><span style="font-size: 16px;">})</span></div><div style="text-align: justify"><span style="font-size: 16px;">promise对象 是不可逆的   </span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 